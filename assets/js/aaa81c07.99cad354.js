"use strict";(self.webpackChunkuimotelndefined=self.webpackChunkuimotelndefined||[]).push([[3009],{3287:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"pbx/pbx-menu/maintenance/settings/api_settings","title":"API Settings","description":"Warning: Versions 1, 2, and 3 are deprecated.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/pbx/3- pbx-menu/8-maintenance/6-settings/2-api_settings.md","sourceDirName":"pbx/3- pbx-menu/8-maintenance/6-settings","slug":"/pbx/pbx-menu/maintenance/settings/api_settings","permalink":"/pbx/pbx-menu/maintenance/settings/api_settings","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"Docs","previous":{"title":"General Settings","permalink":"/pbx/pbx-menu/maintenance/settings/general_settings"},"next":{"title":"Update","permalink":"/pbx/pbx-menu/maintenance/settings/update"}}');var r=t(4848),a=t(8453),l=t(5537),i=t(9329);const o={title:void 0},c="API Settings",u={},d=[{value:"Parameters of Simotel Event API",id:"parameters-of-simotel-event-api",level:2},{value:"Example of Rest Call",id:"example-of-rest-call",level:3},{value:"Example of G4 Service Call:",id:"example-of-g4-service-call",level:3},{value:"Example of Rest4 Service Call:",id:"example-of-rest4-service-call",level:3},{value:"Parameters of SA",id:"parameters-of-sa",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"api-settings",children:"API Settings"})}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Warning"}),": Versions 1, 2, and 3 are deprecated."]})}),"\n",(0,r.jsx)(n.p,{children:"This section pertains to the settings for SEA and SA, which we will explain below."}),"\n",(0,r.jsx)(n.h2,{id:"parameters-of-simotel-event-api",children:"Parameters of Simotel Event API"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Enabled"}),": Specifies whether the SEA service is active."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Version"}),": Simotel can send information to the web service in various formats. There are generally two main formats:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"G Services (General)"}),": In G services, all events are exclusively sent to the web service address, and the provider categorizes the events using the ",(0,r.jsx)(n.code,{children:"event_name"})," parameter."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rest Services"}),": In Rest services, the event name is appended to the address, and then the information is sent to the web service."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-of-rest-call",children:"Example of Rest Call"}),"\n","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"Call <WebService_address>/newstate\nCall <WebService_address>/cdr\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Method"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Get"}),": Simotel sends data as parameters to the web service."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Post"}),": From version 4 (Rest4, G4), data is sent in JSON format in the body of the request. In versions 2 and 3, it is sent as parameters similar to GET."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-of-g4-service-call",children:"Example of G4 Service Call:"}),"\n",(0,r.jsxs)(l.A,{defaultValue:"Post",values:[{label:"Get",value:"Get"},{label:"Post",value:"Post"}],children:[(0,r.jsx)(i.A,{value:"Get",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -u username:password --location --request GET \\\n'http://192.168.51.193/call/?event_name=NewState&exten=991&state=Unavailable' --data-raw ''\n"})})}),(0,r.jsx)(i.A,{value:"Post",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -u username:password --location --request POST \'http://192.168.51.193/call/\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "event_name": "NewState",\n    "exten": "991",\n    "state": "Unavailable"\n}\'\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"example-of-rest4-service-call",children:"Example of Rest4 Service Call:"}),"\n",(0,r.jsxs)(l.A,{defaultValue:"Post",values:[{label:"Get",value:"Get"},{label:"Post",value:"Post"}],children:[(0,r.jsx)(i.A,{value:"Get",children:(0,r.jsxs)(n.p,{children:["curl -u username",":password"," --location -- ",(0,r.jsx)(n.br,{}),"\n","request GET '",(0,r.jsx)(n.a,{href:"http://192.168.51.193/call/NewState?event_name=NewState&exten=991&state=Unavailable",children:"http://192.168.51.193/call/NewState?event_name=NewState&exten=991&state=Unavailable"}),"'"]})}),(0,r.jsx)(i.A,{value:"Post",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -u username:password --location --request POST \'http://192.168.51.193/call/NewState\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "event_name": "NewState",\n    "exten": "991",\n    "state": "Unavailable"\n}\'\n'})})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Events"}),": This section categorizes the system events and information. Depending on your needs, you can specify which information should be sent to your web service. Events and their details will be examined in further sections."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Address"}),": This is where the web service address is entered."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Username"}),": If authentication is required by the web service, the username is entered here."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Password"}),": If authentication is required by the web service, the password is entered here."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"parameters-of-sa",children:"Parameters of SA"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Allow All IPs"}),": Checking this option allows all IPs to send requests to Simotel."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Allowed IPs"}),": If a specific IP is desired, enter it here and press the Enter key."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9329:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var s=t(8215);const r={tabItem:"tabItem_Ymn6"};var a=t(4848);function l(e){let{children:n,hidden:t,className:l}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,l),hidden:t,children:n})}},5537:(e,n,t)=>{t.d(n,{A:()=>S});var s=t(6540),r=t(8215),a=t(5627),l=t(6347),i=t(372),o=t(604),c=t(1861),u=t(8749);function d(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:r}}=e;return{value:n,label:t,attributes:s,default:r}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const r=(0,l.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(a),(0,s.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})}),[a,r])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=h(e),[l,o]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a}))),[c,d]=m({queryString:t,groupId:r}),[x,v]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,a]=(0,u.Dv)(t);return[r,(0,s.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),f=(()=>{const e=c??x;return p({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{f&&o(f)}),[f]);return{selectedValue:l,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),v(e)}),[d,v,a]),tabValues:a}}var v=t(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function g(e){let{className:n,block:t,selectedValue:s,selectValue:l,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),u=e=>{const n=e.currentTarget,t=o.indexOf(n),r=i[t].value;r!==s&&(c(n),l(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{o.push(e)},onKeyDown:d,onClick:u,...a,className:(0,r.A)("tabs__item",f.tabItem,a?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:a}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===a));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function w(e){const n=x(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",f.tabList),children:[(0,b.jsx)(g,{...n,...e}),(0,b.jsx)(j,{...n,...e})]})}function S(e){const n=(0,v.A)();return(0,b.jsx)(w,{...e,children:d(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>i});var s=t(6540);const r={},a=s.createContext(r);function l(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);